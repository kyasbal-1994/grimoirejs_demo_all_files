import GrimoireInterface from "../GrimoireInterface";
import Attribute from "./Attribute";
import NSDictionary from "../Base/NSDictionary";
class ComponentDeclaration {
    constructor(name, attributes, ctor) {
        this.name = name;
        this.ctor = ctor;
        this.attributes = attributes;
    }
    generateInstance(componentElement) {
        componentElement = componentElement ? componentElement : document.createElementNS(this.name.ns, this.name.name);
        const component = new this.ctor();
        componentElement.setAttribute("x-gr-id", component.id);
        GrimoireInterface.componentDictionary[component.id] = component;
        component.name = this.name;
        component.element = componentElement;
        component.attributes = new NSDictionary();
        for (let key in this.attributes) {
            const attr = new Attribute(key, this.attributes[key], component);
            component.attributes.set(attr.name, attr);
        }
        return component;
    }
}
export default ComponentDeclaration;
//# sourceMappingURL=ComponentDeclaration.js.map