import IDObject from "grimoirejs/lib/Base/IDObject";
class ResourceBase extends IDObject {
    constructor(gl) {
        super();
        this.gl = gl;
        this.destroyed = false;
        this.valid = false;
    }
    get valid() {
        return this._valid;
    }
    set valid(val) {
        if (this._valid === val) {
            return;
        }
        this._valid = val;
        if (this._valid) {
            this._validResolve(this);
        }
        else {
            this.validPromise = new Promise((resolve) => {
                this._validResolve = resolve;
            });
        }
    }
    destroy() {
        this.destroyed = true;
    }
}
export default ResourceBase;
//# sourceMappingURL=ResourceBase.js.map